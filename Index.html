<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Device Scan & Protect</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* General Reset & Body Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #000;
            color: #fff;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* Prevent scrolling */
            position: fixed; /* Fixes body to viewport */
            width: 100%;
            user-select: none; /* Disable text selection */
            -webkit-user-select: none;
            touch-action: pan-y; /* Prevent vertical scrolling, allow horizontal for touch */
        }

        /* Main Container for Centering */
        .scan-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px; /* Padding around the central box, creates black border */
        }

        /* The Scan Box Itself (the main card) */
        .scan-box {
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
            border: 2px solid #333;
            border-radius: 15px;
            padding: 30px;
            width: 95%; /* Responsive width, fills most of the container */
            max-width: 450px; /* Max width to prevent it from getting too wide on large screens */
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 255, 0, 0.1), 0 0 40px rgba(0, 255, 0, 0.05); /* Subtle green glow */
            position: relative;
            overflow: hidden; /* Ensures sections transition smoothly without overflow */
        }

        /* Scan Sections (Initial, Progress, Results) */
        .scan-section {
            display: none; /* Hidden by default, JavaScript activates */
            animation: fadeIn 0.5s ease-out; /* Fade-in animation for active section */
        }

        .scan-section.active {
            display: block; /* Show active section */
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Initial Scan Styles */
        #scan-initial .scan-icon {
            font-size: 60px;
            color: #00c853; /* Green for starting scan */
            margin-bottom: 20px;
            animation: pulseGreen 1.5s infinite alternate; /* Pulsing animation for icon */
        }

        @keyframes pulseGreen {
            from { transform: scale(1); opacity: 0.8; }
            to { transform: scale(1.05); opacity: 1; }
        }

        .loading-spinner {
            border: 5px solid #333;
            border-top: 5px solid #00c853; /* Green part of spinner */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite; /* Spinning animation */
            margin: 20px auto 0; /* Center spinner */
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Scan Progress Styles */
        .scan-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .progress-icon {
            font-size: 30px;
            color: #00c853;
            margin-right: 15px;
        }

        #scan-message {
            font-size: 18px;
            color: #00e676; /* Brighter green for scan message */
            font-weight: normal;
        }

        .progress-bar-container {
            width: 100%;
            background-color: #333;
            border-radius: 5px;
            height: 10px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%; /* Starts at 0, filled by JS */
            background: linear-gradient(to right, #00c853, #00e676);
            border-radius: 5px;
            transition: width 0.5s ease-out; /* Smooth filling animation */
        }

        .small-text {
            font-size: 14px;
            color: #aaa;
        }

        /* Scan Results Styles */
        #scan-results .results-icon {
            font-size: 60px;
            color: #ff3333; /* Red for threats */
            margin-bottom: 20px;
            animation: shake 0.8s ease-in-out infinite; /* Continuous subtle shake */
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
        }

        .results-title {
            font-size: 24px;
            color: #ff6666; /* Lighter red for title */
            margin-bottom: 15px;
        }

        .threat-list {
            list-style: none; /* Remove bullet points */
            padding: 0;
            margin-bottom: 25px;
            color: #ccc;
        }

        .threat-list li {
            font-size: 16px;
            margin-bottom: 10px;
            display: flex; /* Align icon and text */
            align-items: center;
            justify-content: center;
        }

        .threat-list li i {
            margin-right: 10px;
            font-size: 18px;
        }

        .red-icon {
            color: #ff3333; /* Red color for threat icons */
        }

        .results-text {
            font-size: 16px;
            line-height: 1.4;
            margin-bottom: 30px;
            color: #eee;
        }

        /* Buttons */
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            width: 100%; /* Make button full width of its container */
            max-width: 300px; /* Max width for button */
            margin: 0 auto; /* Center the button */
            display: block; /* Ensure it behaves as a block element for width/margin */
        }

        .btn-action {
            background: linear-gradient(to right, #00c853, #00e676); /* Green gradient */
            color: white;
            box-shadow: 0 5px 0 #009624; /* 3D effect */
        }

        .btn-action:active {
            transform: translateY(2px); /* Button press effect */
            box-shadow: 0 3px 0 #009624;
        }

        /* General text styles */
        h2, h3, p {
            margin-bottom: 15px;
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 480px) {
            .scan-container {
                padding: 15px; /* Less padding on very small screens */
            }
            .scan-box {
                padding: 25px 20px;
            }
            #scan-initial .scan-icon, #scan-results .results-icon {
                font-size: 50px;
            }
            h2 {
                font-size: 20px;
            }
            h3 {
                font-size: 16px;
            }
            p {
                font-size: 15px;
            }
            .threat-list li {
                font-size: 15px;
            }
            .btn {
                padding: 12px 25px;
                font-size: 16px;
            }
        }

        /* Responsive adjustments for shorter screens (e.g., landscape mode on phones) */
        @media (max-height: 600px) and (orientation: landscape) {
            .scan-box {
                padding: 20px;
                max-width: 90%; /* Allow it to be wider on landscape if needed */
            }
            #scan-initial .scan-icon, #scan-results .results-icon {
                font-size: 40px;
                margin-bottom: 10px;
            }
            h2 {
                font-size: 18px;
                margin-bottom: 10px;
            }
            h3 {
                font-size: 15px;
            }
            p, .threat-list li, .small-text {
                font-size: 13px;
                margin-bottom: 8px;
            }
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            .loading-spinner {
                width: 30px;
                height: 30px;
                margin-top: 15px;
            }
            .progress-bar-container {
                height: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="scan-container">
        <div class="scan-box">
            <div id="scan-initial" class="scan-section active">
                <i class="fas fa-search scan-icon"></i>
                <h2>Initiating Device Scan...</h2>
                <p>Please wait while we check your phone for threats and vulnerabilities.</p>
                <div class="loading-spinner"></div>
            </div>

            <div id="scan-progress" class="scan-section">
                <div class="scan-header">
                    <i class="fas fa-shield-alt progress-icon"></i>
                    <h3 id="scan-message">Scanning system files...</h3>
                </div>
                <div class="progress-bar-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <p class="small-text" id="scan-status-detail">Estimated time: 30 seconds</p>
            </div>

            <div id="scan-results" class="scan-section">
                <i class="fas fa-exclamation-triangle results-icon"></i>
                <h2 class="results-title">Threats Detected!</h2>
                <ul class="threat-list">
                    <li><i class="fas fa-bug red-icon"></i> 3 Malware Threats Found</li>
                    <li><i class="fas fa-lock-open red-icon"></i> Critical Privacy Vulnerability</li>
                    <li><i class="fas fa-user-secret red-icon"></i> Data Leak Risk Identified</li>
                </ul>
                <p class="results-text">Your device is at high risk. Immediate action is required to secure your personal data.</p>
                <button class="btn btn-action" onclick="window.location.href='https://your-offer-link.com/'">
                    âœ… Secure My Device Now
                </button>
            </div>
        </div>
    </div>

    <script>
        // Get references to elements
        const scanInitial = document.getElementById('scan-initial');
        const scanProgress = document.getElementById('scan-progress');
        const scanResults = document.getElementById('scan-results');
        const progressBar = document.getElementById('progress-bar');
        const scanMessage = document.getElementById('scan-message');
        const scanStatusDetail = document.getElementById('scan-status-detail');

        // Messages for the scanning progress
        const scanMessages = [
            "Initializing scan engine...",
            "Checking for suspicious activity...",
            "Analyzing system files for malware...",
            "Scanning installed applications...",
            "Verifying network security...",
            "Detecting privacy vulnerabilities...",
            "Cross-referencing threat databases...",
            "Compiling scan report..."
        ];

        let currentProgress = 0;
        let messageIndex = 0;

        // Function to start the scan simulation
        function startScan() {
            // Ensure only the initial section is active at the start
            scanInitial.classList.add('active');
            scanProgress.classList.remove('active');
            scanResults.classList.remove('active');

            // Simulate a short delay before transitioning to progress
            setTimeout(() => {
                scanInitial.classList.remove('active'); // Hide initial
                scanProgress.classList.add('active');   // Show progress
                updateScanProgress(); // Start updating the progress bar and messages
            }, 2000); // 2 seconds delay for initial "Initiating" phase
        }

        // Function to update the scan progress bar and messages
        function updateScanProgress() {
            const intervalTime = 500; // Time between each progress bar update (in milliseconds)

            const progressInterval = setInterval(() => {
                if (currentProgress < 100) {
                    // Increase progress by a random amount to make it less predictable
                    currentProgress += Math.floor(Math.random() * (15 - 5 + 1)) + 5; 
                    if (currentProgress > 100) currentProgress = 100; // Cap at 100%
                    progressBar.style.width = currentProgress + '%'; // Update progress bar width

                    // Update scan message based on progress
                    if (messageIndex < scanMessages.length && currentProgress >= (messageIndex + 1) * (100 / scanMessages.length)) {
                        scanMessage.textContent = scanMessages[messageIndex];
                        messageIndex++;
                    }

                    // Update estimated time or status detail
                    if (currentProgress < 90) { 
                        scanStatusDetail.textContent = `Estimated time: ${Math.max(0, Math.ceil((100 - currentProgress) / 5) * 2)} seconds remaining`;
                    } else if (currentProgress < 100) {
                         scanStatusDetail.textContent = `Finalizing scan...`;
                    }

                } else {
                    clearInterval(progressInterval); // Stop the progress updates once 100%
                    setTimeout(() => {
                        scanProgress.classList.remove('active'); // Hide progress
                        scanResults.classList.add('active');    // Show results
                    }, 1000); // 1 second delay before revealing results
                }
            }, intervalTime); // Interval for updates
        }

        // Start the scan when the entire page has loaded
        window.onload = startScan;

        // --- Back Button and Touch Scrolling Prevention (from your original script) ---
        
        // Disable back button by pushing a new state
        history.pushState(null, null, location.href);
        window.onpopstate = function(event) {
            history.go(1); // Force navigation forward (stay on page)
            // You could potentially trigger a warning alert here if desired
        };

        // Prevent touch scrolling for a "locked" experience
        document.addEventListener('touchmove', function(e) {
            e.preventDefault();
        }, { passive: false }); // `passive: false` is important for `preventDefault` to work on touch events
    </script>
</body>
</html>
